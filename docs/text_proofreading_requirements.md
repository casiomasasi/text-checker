# テキスト校正アプリケーション要件定義

## 概要
テキストファイルを読み込み、誤字脱字、不適切な表現、文章の文脈不整合を自動検出・指摘するPythonアプリケーション。

## 機能要件

### 1. テキスト読み込み機能
- **対応形式**: .txt, .md, .csv (テキスト列)
- **エンコーディング**: UTF-8, Shift_JIS, EUC-JP自動判定
- **大容量ファイル対応**: チャンク読み込み

### 2. 誤字脱字チェック機能
- **ひらがな・カタカナ誤字**: 「わ」と「は」、「じ」と「ぢ」等
- **漢字変換誤り**: 同音異義語の誤用（「記録」→「記憶」等）
- **タイプミス**: 重複文字、隣接キー誤入力
- **送り仮名誤り**: 「行う」「行なう」等の表記揺れ

### 3. 不適切表現チェック機能
- **差別的表現**: 特定の属性に対する不適切な表現
- **不適切敬語**: 二重敬語、過度な敬語
- **不適切な略語**: ビジネス文書での口語表現
- **冗長表現**: 「～することができる」等の冗長な表現

### 4. 文脈整合性チェック機能
- **代名詞の指示対象不明**: 「これ」「それ」の参照先曖昧
- **時制の不整合**: 文章内での時制混在
- **論理的飛躍**: 結論と根拠の論理的つながりの欠如
- **文体の統一性**: 敬語と常体の混在

### 5. レポート出力機能
- **Excel形式**: 指摘箇所、種別、詳細、修正案を表形式で出力
- **統計情報**: エラー種別ごとの集計、ファイル全体の評価スコア
- **ハイライト表示**: 問題箇所を色分けして表示

## 非機能要件

### パフォーマンス
- **処理速度**: 10,000文字のテキストを10秒以内で処理
- **メモリ使用量**: 100MB以下での動作
- **大容量対応**: 1MB以上のファイルでも安定動作

### 拡張性
- **ルール追加**: 新しい校正ルールの容易な追加
- **カスタマイズ**: 業界特有の表現チェックルールの設定
- **API連携**: 外部校正サービスとの連携可能

### 使いやすさ
- **CLI操作**: コマンドライン引数でのファイル指定
- **進捗表示**: 処理状況のリアルタイム表示
- **エラー詳細**: 具体的な修正提案の提供

## 技術仕様

### アーキテクチャ
```
src/
├── text_proofreader/
│   ├── __init__.py
│   ├── reader.py           # テキスト読み込み
│   ├── checkers/
│   │   ├── __init__.py
│   │   ├── typo_checker.py      # 誤字脱字チェック
│   │   ├── expression_checker.py # 不適切表現チェック
│   │   └── context_checker.py   # 文脈整合性チェック
│   ├── rules/
│   │   ├── typo_rules.json      # 誤字脱字ルール
│   │   ├── expression_rules.json # 表現ルール
│   │   └── context_rules.json   # 文脈ルール
│   ├── reporter.py         # レポート生成
│   └── main.py            # メインアプリケーション
```

### 使用技術
- **自然言語処理**: MeCab（形態素解析）
- **パターンマッチング**: 正規表現、辞書ベース
- **ファイル処理**: chardet（エンコーディング判定）
- **出力**: pandas + openpyxl（Excel出力）

## 制約事項

### 技術的制約
- **日本語特化**: 主に日本語テキストを対象
- **辞書依存**: チェック精度は辞書の充実度に依存
- **文脈理解限界**: 深い意味理解は困難

### 運用制約
- **誤検知**: 専門用語や固有名詞での誤検知可能性
- **検知漏れ**: 新しい表現や文脈での検知漏れ
- **判断基準**: 表現の適切性は主観的要素を含む

## 拡張計画

### Phase 1（基本機能）
- 基本的な誤字脱字チェック
- 簡単な不適切表現検出
- Excel形式でのレポート出力

### Phase 2（高度な機能）
- 文脈整合性の詳細チェック
- 機械学習による検出精度向上
- Web UI の提供

### Phase 3（AI連携）
- LLMとの連携による高度な文章評価
- 自動修正案の生成
- リアルタイム校正機能